#!/usr/bin/python

from gi.repository import Gtk
from gi.repository import AppIndicator3 as appindicator


class AppLet:
    def __init__(self):
        #stuff
        app_Start=Base('main.glade',movie_path,series_path,'letmenotifyu.png')
        appInd=appindicator.Indicator.new("Letmenotifyu","indicator-messages",
                                      appindicator.IndicatorCategory.APPLICATION_STATUS)
        appInd.set_status(appindicator.IndicatorStatus.ACTIVE)
    def set_app(self):
        self.menu=Gtk.Menu()
        self.movie=Gtk.Menu()
        self.series=Gtk.Menu()
        
    def set_movie_menu(self):
        self.movie_view=Gtk.MenuItem("New Movies") #name of menu
        self.movie_view.set_submenu(self.movie) # movie_view will have submenus

    def update_movie_menu(self,new_movie,link):
        movie_update=Gtk.MenuItem(new_movie)
        self.movie.append(movie_update)
        movie_update.show()
        movie_update.connect("activate",goto_browser) #when clicked open browser

    def set_series_menu(self):
         self.series_view=Gtk.MenuItem("New Episodes")
         series_view.set_submenu(series)

    def update_series_menu(self,link):
        print ""

    def updates(self):
        update=Gtk.MenuItem("Update")
        self.menu.append(update)
        update.connect("activate",Thread(target=update_databases).start())
        update.show()
        
    def quitting(self):
        quit=Gtk.MenuItem("Quit")
        menu.append(quit)
        quit.connect("activate",Gtk.main_quit)
        quit.show()
    
    appInd.set_menu(menu)
    Gtk.main()
